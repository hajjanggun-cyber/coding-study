# 코딩 용어 정리 프로젝트 - 설명서

## 📋 프로젝트 개요

**프로젝트명**: 코딩 용어 정리 시스템  
**제작 기간**: 2026년 2월  
**기술 스택**: HTML, CSS, JavaScript, Google Apps Script, Google Sheets  
**목적**: 코딩 용어, 프롬프트, URL, 아이디어, 실전과정, 강의정리를 체계적으로 관리하는 웹 애플리케이션

---

## 🏗️ 시스템 아키텍처

### 전체 구조
```
┌─────────────────────────────────────────┐
│         사용자 (브라우저)                  │
│         index.html                       │
│    ┌──────────────────────────────┐    │
│    │  HTML + CSS + JavaScript      │    │
│    │  (프론트엔드 로직)              │    │
│    └──────────┬───────────────────┘    │
└───────────────┼────────────────────────┘
                │
                │ HTTP 요청 (GET/POST)
                │
                ▼
┌─────────────────────────────────────────┐
│      Google Apps Script (GAS)           │
│    (서버리스 백엔드 API)                  │
│    ┌──────────────────────────────┐    │
│    │  doGet() / doPost()           │    │
│    │  데이터 CRUD 로직              │    │
│    └──────────┬───────────────────┘    │
└───────────────┼────────────────────────┘
                │
                │ SpreadsheetApp API
                │
                ▼
┌─────────────────────────────────────────┐
│      Google Sheets (데이터베이스)        │
│    ┌──────────────────────────────┐    │
│    │  Coding, Prompt, URL,         │    │
│    │  Ideas, WorkProcess, Jungri  │    │
│    │  (6개 시트)                    │    │
│    └───────────────────────────────┘    │
└─────────────────────────────────────────┘
```

### 왜 이런 구조로 만들었을까?

1. **서버리스**: 별도 서버 없이 Google의 인프라 활용
2. **무료**: 모든 기술이 무료로 제공됨
3. **실시간 동기화**: Google Sheets를 DB로 사용해 어디서든 접근 가능
4. **간단한 배포**: HTML 파일 하나로 실행 가능

---

## 📂 파일 구조

```
Coding-YONGO/
├── index.html                    # 메인 웹 애플리케이션 (프론트엔드)
├── google-apps-script-참고.js    # Google Apps Script 코드 (백엔드 로직)
├── .git/                         # Git 버전 관리
└── .agent/                       # AI 에이전트 워크플로우
    └── workflows/
        └── auto-git-push.md      # 자동 Git Push 워크플로우
```

---

## 🔧 기술 스택 상세

### 1️⃣ **프론트엔드 (index.html)**

#### 사용 기술
- **HTML5**: 구조 및 레이아웃
- **CSS3**: 스타일링 (관공서 스타일 디자인)
- **Vanilla JavaScript**: 동적 UI 제어 및 API 통신

#### 주요 기능

##### A. 탭 시스템 (6개 카테고리)
```javascript
- Coding용어: 코딩 관련 용어 정리
- 프롬프트: AI 프롬프트 모음
- 참고URL: 유용한 웹사이트 링크
- 아이디어: 프로젝트 아이디어
- 실전과정: 프로젝트 진행 과정 기록
- 강의정리: 강의 내용 정리
```

##### B. CRUD 기능
```javascript
✅ Create (등록): saveData() 함수
✅ Read (조회): loadData() / fetchAllData() 함수
✅ Update (수정): saveInlineEdit() 함수 (인라인 수정)
✅ Delete (삭제): deleteSelected() 함수 (선택 삭제)
➕ Move (이동): moveSelected() 함수 (카테고리 간 이동)
```

##### C. UI/UX 특징
- **인라인 수정**: 수정 버튼 클릭 시 해당 카드에서 바로 수정 가능
- **자동 높이 조절**: textarea가 내용에 맞춰 자동으로 확장
- **접기/펼치기**: 실전과정, 강의정리 탭에서 긴 내용을 접을 수 있음
- **하이퍼링크 자동 변환**: URL을 자동으로 클릭 가능한 링크로 변환
- **정렬 기능**: 최신순, 가나다순 정렬
- **선택 기능**: 체크박스로 여러 항목 선택 후 일괄 삭제/이동

##### D. 성능 최적화
```javascript
// 캐싱 시스템
let cachedData = null; // 모든 시트 데이터를 메모리에 캐싱

// 즉시 UI 업데이트 + 백그라운드 서버 동기화
function saveData() {
  // 1. 즉시 UI에 추가 (사용자 경험 개선)
  addCardToUI(newItem);
  
  // 2. 백그라운드에서 서버에 저장
  fetch(API_URL, {...});
}
```

---

### 2️⃣ **백엔드 (Google Apps Script)**

#### 사용 기술
- **Google Apps Script**: JavaScript 기반 서버리스 플랫폼
- **SpreadsheetApp API**: Google Sheets 제어

#### API 엔드포인트

##### GET 요청 (데이터 조회)
| 액션 | URL 형식 | 설명 |
|------|----------|------|
| `loadAll` | `?action=loadAll` | 모든 시트 데이터 한 번에 로드 |
| `load` | `?action=load&sheetName=Coding` | 특정 시트 데이터 로드 |
| `delete` | `?action=delete&ids=1,2,3&sheetName=Coding` | 선택된 항목 삭제 |
| `move` | `?action=move&ids=1,2&sheetName=Coding&targetSheet=URL` | 항목 이동 |

##### POST 요청 (데이터 저장/수정)
| 액션 | 파라미터 | 설명 |
|------|----------|------|
| `save` | `term, description, sheetName` | 새 데이터 저장 |
| `update` | `id, term, description, sheetName` | 기존 데이터 수정 |

#### 핵심 함수

```javascript
// 1. 데이터 저장
function saveData(term, description, sheetName) {
  const sheet = getSheet(sheetName);
  const newId = 자동 증가 ID;
  sheet.appendRow([newId, term, description]);
}

// 2. 데이터 수정
function updateData(id, term, description, sheetName) {
  const sheet = getSheet(sheetName);
  // ID 찾아서 해당 행 수정
  sheet.getRange(row, 2).setValue(term);
  sheet.getRange(row, 3).setValue(description);
}

// 3. 데이터 삭제
function deleteData(ids, sheetName) {
  const idList = ids.split(',');
  // 뒤에서부터 삭제 (행 번호가 밀리는 문제 방지)
  for (let i = data.length - 1; i >= 1; i--) {
    if (idList.includes(data[i][0])) {
      sheet.deleteRow(i + 1);
    }
  }
}

// 4. 데이터 이동
function moveData(ids, sourceSheet, targetSheet) {
  // 1. 원본 시트에서 데이터 복사
  // 2. 대상 시트에 데이터 추가
  // 3. 원본 시트에서 데이터 삭제
}
```

---

### 3️⃣ **데이터베이스 (Google Sheets)**

#### 시트 구조
각 시트(Coding, Prompt, URL, Ideas, WorkProcess, Jungri)는 다음과 같은 구조:

| ID | 용어/명령어 | 설명 |
|----|-------------|------|
| 1  | API         | Application Programming Interface의 약자... |
| 2  | Git         | 버전 관리 시스템... |
| 3  | ...         | ... |

#### 특징
- **자동 ID 할당**: 마지막 ID + 1로 자동 생성
- **시트 자동 생성**: 없는 시트는 자동으로 생성됨
- **실시간 동기화**: 여러 디바이스에서 동시 접근 가능

---

## 🔄 데이터 흐름 (시퀀스)

### 예시 1: 새 데이터 등록
```
[사용자] → "용어 입력" → "설명 입력" → "저장 버튼 클릭"
    ↓
[JavaScript] → saveData() 함수 실행
    ↓
[캐시] → 즉시 메모리에 데이터 추가
    ↓
[UI] → 화면에 즉시 새 카드 표시 (빠른 응답)
    ↓
[HTTP] → POST 요청을 Google Apps Script로 전송
    ↓
[GAS] → doPost() → saveData() 실행
    ↓
[Sheets] → 새 행 추가 (영구 저장)
    ↓
[완료] → 1.5초 후 최신 데이터 재로드
```

### 예시 2: 데이터 수정
```
[사용자] → "수정 버튼 클릭"
    ↓
[UI] → 카드가 수정 모드로 전환 (textarea 표시)
    ↓
[사용자] → 내용 수정 → "저장 버튼 클릭"
    ↓
[JavaScript] → saveInlineEdit() 함수 실행
    ↓
[캐시] → 즉시 메모리 데이터 업데이트
    ↓
[UI] → 화면에 즉시 업데이트된 내용 표시
    ↓
[HTTP] → POST 요청 (백그라운드)
    ↓
[GAS] → doPost() → updateData() 실행
    ↓
[Sheets] → 해당 행의 데이터 수정
```

---

## 🎨 주요 UI 컴포넌트

### 1. 카드 컴포넌트
```html
<div class="card" data-id="1">
  <input type="checkbox" class="chk-box">  <!-- 선택 체크박스 -->
  <div class="card-content">
    <div class="card-term">API</div>        <!-- 제목 -->
    <div class="card-desc">설명...</div>    <!-- 설명 -->
  </div>
  <div class="card-actions">
    <button class="edit-btn">수정</button>
  </div>
</div>
```

### 2. 인라인 수정 모드
```javascript
// 수정 버튼 클릭 시
<div class="card editing">  <!-- 'editing' 클래스 추가 -->
  <textarea class="inline-textarea">API</textarea>     <!-- 제목 수정 -->
  <textarea class="inline-textarea">설명...</textarea> <!-- 내용 수정 -->
  <button class="inline-save-btn">저장</button>
  <button class="inline-cancel-btn">취소</button>
</div>
```

### 3. 자동 높이 조절 로직
```javascript
const autoResize = (el) => {
  el.style.height = 'auto';                    // 높이 초기화
  el.style.height = (el.scrollHeight + 2) + 'px';  // 내용에 맞춰 재설정
};

// textarea 생성 후 50ms 뒤 자동 조절 (렌더링 완료 대기)
setTimeout(() => {
  textareas.forEach(field => autoResize(field));
}, 50);
```

---

## 🔐 보안 및 인증

### Google Apps Script 배포
```
1. 스크립트 편집기에서 "배포" → "새 배포" 선택
2. 유형: "웹 앱"
3. 실행 계정: "나"
4. 액세스 권한: "모든 사용자" (공개) 또는 "Google 계정 사용자만"
5. 배포 URL을 index.html의 API_URL 변수에 입력
```

### CORS 이슈 해결
```javascript
// POST 요청 시 mode: 'no-cors' 사용
fetch(API_URL, {
  method: 'POST',
  mode: 'no-cors',  // Google Apps Script는 CORS를 지원하지 않음
  body: params
});
```

---

## 📱 반응형 디자인

### 모바일 최적화
```css
@media (max-width: 768px) {
  /* 입력 폼 세로 배치 */
  .input-row { flex-direction: column; }
  
  /* 카드 내용 세로 배치 */
  .card-content { display: block; }
  
  /* 제목이 전체 너비 차지 */
  .card-term { width: 100%; }
  
  /* 버튼 크기 조정 */
  .controls > div { display: flex; }
}
```

---

## 🚀 최적화 기법

### 1. 캐싱 시스템
```javascript
let cachedData = {
  Coding: [...],
  Prompt: [...],
  URL: [...],
  Ideas: [...],
  WorkProcess: [...],
  Jungri: [...]
};

// 탭 전환 시 캐시된 데이터 사용 (API 호출 최소화)
if (cachedData[sheetName]) {
  renderCurrentSheet();  // 즉시 표시
} else {
  fetchCurrentTabData();  // 없을 때만 로드
}
```

### 2. 낙관적 UI 업데이트 (Optimistic UI)
```javascript
// 서버 응답 기다리지 않고 즉시 UI 업데이트
saveData() {
  addCardToUI(newItem);    // 1. 즉시 화면에 추가
  fetch(API_URL, {...});   // 2. 백그라운드에서 저장
}
```

### 3. 백그라운드 동기화
```javascript
// 사용자는 UI 사용, 백그라운드에서 서버 동기화
setTimeout(() => {
  fetchAllData();  // 1.5초 후 최신 데이터 갱신
}, 1500);
```

---

## 🔧 핵심 기능 상세

### 1. URL 자동 하이퍼링크 변환
```javascript
function linkify(text) {
  // 정규식으로 URL 패턴 인식
  const pattern = /(https?:\/\/[^\s]+|[a-z0-9.-]+\.(com|net|org|kr|io)...)/gim;
  
  return text.replace(pattern, (url) => {
    let href = url;
    if (!/^https?:\/\//i.test(url)) {
      href = 'https://' + url;  // 프로토콜 없으면 추가
    }
    return `<a href="${href}" target="_blank">${url}</a>`;
  });
}
```

### 2. 접기/펼치기 기능
```javascript
// 실전과정, 강의정리 탭에서만 작동
if (isLecture && isLongContent) {
  descHtml = `
    <div class="card-desc collapsed">내용...</div>
    <button class="toggle-btn" onclick="toggleContent('${id}')">더보기 ▼</button>
  `;
}

function toggleContent(id) {
  const desc = document.getElementById(`desc-${id}`);
  desc.classList.toggle('collapsed');  // CSS로 높이 제한
  button.textContent = desc.classList.contains('collapsed') 
    ? '더보기 ▼' 
    : '접기 ▲';
}
```

### 3. 카테고리 간 이동
```javascript
moveSelected() {
  // 1. 모달 창 열기
  showMoveModal();
  
  // 2. 대상 카테고리 선택
  executeMoveToCategory(targetSheet) {
    // 3. 즉시 UI에서 제거
    cards.forEach(card => card.remove());
    
    // 4. 캐시 데이터 이동
    cachedData[targetSheet].push(...movedItems);
    cachedData[currentSheet] = cachedData[currentSheet].filter(...);
    
    // 5. 백그라운드에서 서버 동기화
    fetch(`?action=move&ids=${ids}&sheetName=${current}&targetSheet=${target}`);
  }
}
```

---

## 🐛 알려진 이슈 및 해결

### 이슈 1: 수정 모드에서 제목이 잘림
**원인**: `.card-term`의 `width: 200px` 고정  
**해결**:
```css
.card.editing .card-term {
  width: auto;
  min-width: 200px;
  max-width: 100%;
}

.card-term .inline-textarea {
  width: 100% !important;
  white-space: pre-wrap;  /* 줄바꿈 허용 */
  word-break: break-word; /* 긴 단어 줄바꿈 */
}
```

### 이슈 2: textarea 높이가 자동으로 늘어나지 않음
**원인**: 렌더링 타이밍 이슈  
**해결**:
```javascript
setTimeout(() => {
  textareas.forEach(field => {
    field.style.height = 'auto';
    field.style.height = field.scrollHeight + 'px';
  });
}, 50);  // 50ms 지연으로 렌더링 완료 대기
```

---

## 📊 데이터 구조 예시

```javascript
// 캐시된 데이터 구조
cachedData = {
  "Coding": [
    { id: 1, term: "API", description: "Application Programming Interface의 약자로..." },
    { id: 2, term: "Git", description: "분산 버전 관리 시스템..." }
  ],
  "Prompt": [
    { id: 1, term: "코드 리뷰", description: "이 코드를 리뷰해주세요..." }
  ],
  "URL": [
    { id: 1, term: "MDN", description: "https://developer.mozilla.org" }
  ],
  "Ideas": [
    { id: 1, term: "앱 아이디어", description: "자동 일정 관리 앱..." }
  ],
  "WorkProcess": [
    { id: 1, term: "프로젝트 A", description: "1단계: 기획\n2단계: 개발..." }
  ],
  "Jungri": [
    { id: 1, term: "React 강의", description: "컴포넌트 개념\n1. 함수형...\n2. 클래스형..." }
  ]
}
```

---

## 🎯 사용 시나리오

### 시나리오 1: 코딩 용어 추가
```
1. "Coding용어" 탭 선택
2. "용어" 입력창에 "useState" 입력
3. "용어 설명"에 "React Hook으로 상태 관리..." 입력
4. "데이터 등록" 버튼 클릭
5. 즉시 화면에 새 카드 표시
6. 백그라운드에서 Google Sheets에 자동 저장
```

### 시나리오 2: 강의 내용 정리
```
1. "강의정리" 탭 선택
2. "강의 제목"에 "JavaScript 기초" 입력
3. "강의 정리"에 긴 내용 입력 (자동으로 30줄 textarea)
4. 저장 후 "더보기 ▼" 버튼으로 접기/펼치기 가능
```

### 시나리오 3: 여러 항목 이동
```
1. 이동할 항목들 체크박스 선택
2. "선택 이동" 버튼 클릭
3. 모달 창에서 대상 카테고리 선택
4. 즉시 현재 탭에서 사라지고 대상 탭으로 이동
```

---

## 🔮 향후 개선 방향

### 1. 검색 기능 추가
```javascript
function searchData(keyword) {
  return cachedData[currentSheet].filter(item =>
    item.term.includes(keyword) || 
    item.description.includes(keyword)
  );
}
```

### 2. 태그 시스템
```javascript
// 데이터 구조에 tags 추가
{ id: 1, term: "API", description: "...", tags: ["웹", "통신", "HTTP"] }
```

### 3. 즐겨찾기 기능
```javascript
// 중요한 항목 상단 고정
{ id: 1, term: "API", description: "...", favorite: true }
```

### 4. 내보내기/가져오기
```javascript
// JSON, CSV 형식으로 내보내기/가져오기
exportData(format) {
  const data = JSON.stringify(cachedData);
  downloadFile(data, `coding-terms-${Date.now()}.json`);
}
```

---

## 📝 배포 및 실행 방법

### Google Apps Script 배포
```
1. Google Sheets 파일 생성
2. 확장 프로그램 → Apps Script 열기
3. google-apps-script-참고.js 코드 복사 & 붙여넣기
4. 배포 → 새 배포 → 웹 앱 선택
5. 배포 URL 복사
```

### HTML 파일 설정
```javascript
// index.html 618번째 줄
const API_URL = "여기에_배포_URL_붙여넣기";
```

### 실행
```
1. index.html 파일을 브라우저에서 열기
2. 또는 GitHub Pages, Vercel 등에 배포
3. 즉시 사용 가능
```

---

## 🎓 핵심 개념 정리

### 1. 서버리스 아키텍처
- 별도 서버 없이 Google의 인프라만으로 운영
- 비용 절감 + 확장성 보장

### 2. SPA (Single Page Application)
- 페이지 새로고침 없이 동적으로 UI 변경
- 빠른 사용자 경험

### 3. RESTful API 패턴
```
GET  /api?action=load        → 데이터 조회
POST /api?action=save        → 데이터 생성
POST /api?action=update      → 데이터 수정
GET  /api?action=delete      → 데이터 삭제
```

### 4. CRUD 완전 구현
```
Create  → saveData()
Read    → loadData() / fetchAllData()
Update  → updateData()
Delete  → deleteData()
```

---

## 💡 핵심 학습 포인트

이 프로젝트를 통해 배울 수 있는 것들:

✅ **프론트엔드**: HTML, CSS, JavaScript (DOM 조작, 이벤트 처리)  
✅ **백엔드**: Google Apps Script (서버리스 함수)  
✅ **데이터베이스**: Google Sheets (NoSQL 스타일)  
✅ **API 통신**: fetch, GET/POST 요청  
✅ **상태 관리**: 캐싱, 낙관적 UI 업데이트  
✅ **반응형 디자인**: 모바일/데스크톱 대응  
✅ **성능 최적화**: 백그라운드 동기화, 즉시 UI 업데이트  
✅ **버전 관리**: Git, GitHub

---

## 📞 문의 및 개선 제안

이 프로젝트는 개인 학습용으로 제작되었습니다.  
개선 아이디어나 버그 발견 시 GitHub Issues에 등록해주세요.

**GitHub**: https://github.com/hajjanggun-cyber/coding-study

---

**작성일**: 2026-02-10  
**버전**: 1.0  
**최종 수정**: textarea 자동 확장 기능 개선
